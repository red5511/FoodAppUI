<p-card footer="Footer Content">
    <button pButton type="button" label="Dodaj nowy produkt" icon="pi pi-plus-circle" (click)="2"></button>
    <p-divider></p-divider>
    <p-table #dt2 [value]="products" dataKey="id" [rows]="50" [rowsPerPageOptions]="[50, 100, 200]" [loading]="loading"
        [pageLinks]="5" [totalRecords]="totalRecords" [lazy]="true" [rowHover]="true"
        [globalFilterFields]="['status', 'price', 'deliveryTime', 'description']"
        (onLazyLoad)="loadProductsLazy($event)" [paginator]="true" [tableStyle]="{ 'min-width': '20rem' }"
        [expandedRowKeys]="expandedRows" (onRowExpand)="onRowExpand($event)" (onRowCollapse)="onRowCollapse($event)">
        <ng-template pTemplate="caption">
            <div class="filters">
                <p-floatLabel>
                    <input pInputText [style]="{ width: '14rem', height: '50px' }" id="over_label"
                        [(ngModel)]="globalSearch" autocomplete="off" (ngModelChange)="onInputChange($event)" />
                    <label for="over_label">Wyszkuwianie globalne</label>
                </p-floatLabel>
            </div>
        </ng-template>

        <ng-template pTemplate="header">
            <tr>
                <th></th>
                <th>
                    <app-sortable-column field="name" label="Nazwa" [sortState]="sortState"
                        (sortChanged)="onSortChanged($event)"></app-sortable-column>
                </th>
                <th>
                    <app-sortable-column field="price" label="Kwota" [sortState]="sortState"
                        (sortChanged)="onSortChanged($event)"></app-sortable-column>
                </th>
                <th>
                    Opis
                </th>
            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-order let-expanded="expanded">
            <tr>
                <td>
                    <p-button type="button" pRipple [pRowToggler]="order" [text]="true" [rounded]="true" [plain]="true"
                        [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'" />
                </td>
                <td>
                    <div>{{ order.name }}</div>
                </td>
                <td>
                    <div>{{ order.price | pricePln }}</div>
                </td>
                <td>
                    <div>{{ order.description }}</div>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="rowexpansion" let-user>
            <tr>
                <td colspan="5">
                    <div>
                        <p-table [value]="user.permissions" class="expansion-table">
                            <ng-template pTemplate="header">
            <tr>
                <th>Uprawnienia</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="6">Brak uprawnień</td>
            </tr>
        </ng-template>
        <div class="buttons">
            <button pButton severity="info" type="button" label="Modyfiuj" [raised]="true" icon="pi pi-user-edit"
                (click)="2"></button>
            <button pButton severity="warning" type="button" label="Usuń" [raised]="true" icon="pi pi-user-edit"
                (click)="2"></button>
        </div>
    </p-table>

    </div>
    </td>
    </tr>
    </ng-template>
    </p-table>
</p-card>